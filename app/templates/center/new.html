{% extends "layout/layout.html" %}
{% block title %}Centros{% endblock %}
{% block head %}

<script src="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css" rel="stylesheet" />

<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.min.js"></script>
<link rel="stylesheet"
  href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.css" type="text/css" />
<!-- Promise polyfill script required to use Mapbox GL Geocoder in IE 11 -->
<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>

{{ super() }}
{% endblock %}
{% block content %}
<div class="col-lg-4 col-md-6 mx-auto">
  <h3>Crear un centro</h3>
  <form action="{{ url_for('center_create') }}" name="form1" method="POST" onsubmit="submitHandler(event)">
    <p>
      <label><strong> Nombre:</strong><strong style="color:#48D1CC;">*</strong></label></br>
      <input class="form-control" required name="name" placeholder="Nombre" />
    </p>
    <p>
      <label><strong> Dirección:</strong><strong style="color:#48D1CC;">*</strong></label></br>
      <input class="form-control" required name="address" placeholder="Dirección" />
    </p>
    <p>
      <label><strong> Teléfono:</strong><strong style="color:#48D1CC;">*</strong></label></br>
      <input class="form-control" required name="phone" placeholder="Teléfono" />
    </p>
    <p>
      <label><strong> Hora de apertura: </strong><strong style="color:#48D1CC;">*</strong></label></br>
      <input style="border-color: #DCDCDC; border-radius: 9%; border-style: solid;" type="time" required name="open_time" placeholder="Hora de apertura" />
    </p>
    <p>
      <label><strong> Hora de cierre: </strong><strong style="color:#48D1CC;">*</strong></label></br>
      <input style="border-color: #DCDCDC; border-radius: 9%; border-style: solid;" type="time" required name="close_time" placeholder="Hora de cierre" />
    </p>
    <p>
      <label for="center_type"><strong> Tipo de centro: </strong><strong style="color:#48D1CC;">*</strong></label></br>
      <select id="center_type" class="form-control" required name="center_type" style="color: #D2D2D2;">
        <option value="" disabled selected hidden > Seleccione una opción</option>
        <option value="sangre">Sangre</option>
        <option value="plasma">Plasma</option>
        <option value="ropa">Ropa</option>
        <option value="comida">Comida</option>
      </select>
    </p>
    <p>
      <label><strong> Municipalidad: </strong><strong style="color:#48D1CC;">*</strong></label></br>
      <select class="form-control" required name="municipality" style="color: #D2D2D2;">
        <option value="" disabled selected hidden>Seleccione una opción</option>
      {%for muni in municipios.keys(): %}
        <option value="{{municipios[muni]['name']}}">{{municipios[muni]['name']}}</option>
      {%endfor%}
      </select>
    </p>
    <p>
      <label><strong> Pagina Web: </strong> </label></br>
      <input class="form-control" name="web" placeholder="Web" />
    </p>
    <p>
      <label><strong> Email:</strong> </label></br>
      <input class="form-control" name="email" placeholder="Email" />
    </p>
    <p>
      <label><strong>Protocolo:</strong></label></br>
      <input type="file" class="form-control-file" name="protocol" placeholder="Protocolo">
    </p>
    <br>
    <div class="map-container">
      <div id="mapid" style="width: 600px; height: 400px; position: relative; outline: none;"></div>
    </div>

    <input type="hidden" name="lat" id="lat">
    <input type="hidden" name="lng" id="lng">

    <input class="btn btn-info" type="submit" value="Crear">
    <a class="btn btn-default" href="{{ url_for('centers') }}" class="link">Volver</a>
    </p>
  </form>
</div>



<style>
  div.content {
    float: left;
    text-align: center;
    margin: 10px;
  }
</style>
</div>
<script></script>
<script src="{{url_for('static', filename='assets/js/map.js')}}" type="text/javascript"></script>

{% endblock %}